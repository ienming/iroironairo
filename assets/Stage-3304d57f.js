import{_ as N,r as d,w as B,o as S,a as v,c as p,b as a,t as D,p as A,d as E,i as L,e as f,f as M,g,n as V,h as j,j as H}from"./index-55da85dd.js";import{B as R,N as T}from"./Navigator-8eee1c28.js";import{_ as z}from"./Polaroid-8901068a.js";import{P as G}from"./PolaroidText-e9f8eda4.js";const h=u=>(A("data-v-6cb343f1"),u=u(),E(),u),U={class:"d-flex flex-row flex-lg-column px-2 py-2 py-lg-0 gap-4 gap-lg-3"},q=h(()=>a("i",{class:"fa-solid fa-shuffle"},null,-1)),F=[q],J={key:0},K={key:1,class:"fa-solid fa-stop"},Q=h(()=>a("i",{class:"fa-solid fa-play"},null,-1)),W=[Q],X={class:"d-flex flex-row flex-lg-column px-2 py-2 py-lg-0 gap-4 gap-lg-3"},Y=h(()=>a("i",{class:"fa-solid fa-arrow-left"},null,-1)),Z=[Y],O=h(()=>a("i",{class:"fa-solid fa-arrow-right"},null,-1)),ee=[O],te={__name:"controller",props:["theme","isAutoPlay","timeLeft"],emits:["show-next","show-prev","start-playing","stop-playing","shuffle"],setup(u,{emit:c}){const o=u,l=d(null),t=d(!1);B(o,(s,e)=>{let n=e.theme;r(n)});function r(s){l.value.style.setProperty("--luc-text-color",s.color),l.value.style.setProperty("--luc-border-color",s.color),l.value.style.setProperty("--luc-bg-color",s.color),l.value.style.setProperty("--luc-text-color-reverse",s.backgroundColor)}return S(()=>{r(o.theme)}),(s,e)=>(v(),p("section",{class:"position-fixed w-100 d-flex flex-row justify-content-center justify-content-lg-between align-items-center",ref_key:"controllerEl",ref:l},[a("div",U,[a("button",{class:"luc-controller",onClick:e[0]||(e[0]=n=>c("shuffle"))},F),u.isAutoPlay?(v(),p("button",{key:0,class:"luc-controller",onClick:e[1]||(e[1]=n=>{c("stop-playing"),console.log("stop-playing")}),onMouseenter:e[2]||(e[2]=n=>t.value=!0),onMouseleave:e[3]||(e[3]=n=>t.value=!1)},[t.value?(v(),p("i",K)):(v(),p("span",J,D(u.timeLeft),1))],32)):(v(),p("button",{key:1,class:"luc-controller",onClick:e[4]||(e[4]=n=>c("start-playing"))},W))]),a("div",X,[a("button",{class:"luc-controller",onClick:e[5]||(e[5]=n=>c("show-prev"))},Z),a("button",{class:"luc-controller",onClick:e[6]||(e[6]=n=>c("show-next"))},ee)])],512))}},le=N(te,[["__scopeId","data-v-6cb343f1"]]),oe={class:"container min-vh-100 d-flex flex-column flex-lg-row align-items-center justify-content-start justify-content-lg-center gap-4 gap-lg-5 position-relative pt-5 pb-8 pb-lg-5"},k=15,ue={__name:"Stage",setup(u){const c=L("csvData",[]),o=d(0),l=f(()=>s.value[o.value]),t=f(()=>l.value?l.value.main_color:{}),r=f(()=>H(t.value)),s=f(()=>x.value?c.value.filter(i=>i.main_color).sort(()=>Math.random()-x.value):c.value.filter(i=>i.main_color).sort((i,$)=>new Date(i.iso_date.slice(0,-1))-new Date($.iso_date.slice(0,-1)))),e=f(()=>t?{backgroundColor:`hsl(${t.value.h},${t.value.s}%,${t.value.l}%)`,color:`hsl(${r.value.h},${r.value.s}%,${r.value.l}%)`}:{}),n=f(()=>t?{backgroundColor:`hsl(${r.value.h},${r.value.s}%,${r.value.l}%)`,color:`hsl(${t.value.h},${t.value.s}%,${t.value.l}%)`}:{});function w(){o.value==s.value.length-1?o.value=0:o.value++}function P(){o.value==0?o.value=s.value.length-1:o.value--}let m;const _=d(!1),y=d(k);function b(){_.value=!0,m=setInterval(()=>{y.value>=1?y.value--:(w(),y.value=k)},1e3)}function C(){_.value=!1,clearInterval(m)}const x=d(void 0);function I(){resetImgLoaded(),x.value=Math.random()}return S(()=>{b()}),M(()=>{clearInterval(m)}),(i,$)=>l.value?(v(),p("main",{key:0,class:"transition",style:V(e.value)},[a("section",oe,[g(z,{photo:l.value,"bg-style":e.value},null,8,["photo","bg-style"]),g(G,{photo:l.value,"bg-style":n.value},null,8,["photo","bg-style"])]),g(le,{theme:e.value,"is-auto-play":_.value,"time-left":y.value,onStartPlaying:b,onStopPlaying:C,onShowNext:w,onShowPrev:P,onShuffle:I},null,8,["theme","is-auto-play","time-left"]),g(R,{theme:e.value,class:"position-fixed top-0 d-flex align-items-center gap-1"},null,8,["theme"]),g(T,{theme:e.value},null,8,["theme"])],4)):j("",!0)}};export{ue as default};
