import{_ as B,r as i,w as D,o as S,a as d,c as p,b as n,t as L,p as M,d as V,i as j,e as v,f as E,g as _,n as R,h as T,j as z}from"./index-f8c8a2a8.js";import{B as H,N as U}from"./Navigator-298f6902.js";import{_ as q}from"./Polaroid-7b483492.js";import{P as A}from"./PolaroidText-79692893.js";const m=u=>(M("data-v-36fdc317"),u=u(),V(),u),F={class:"d-flex flex-row flex-lg-column px-2 py-2 py-lg-0 gap-4 gap-lg-3"},G=m(()=>n("i",{class:"fa-solid fa-shuffle"},null,-1)),J=[G],K=m(()=>n("i",{class:"fa-solid fa-play"},null,-1)),Q=[K],W={key:0},X={key:1,class:"fa-solid fa-stop"},Y={class:"d-flex flex-row flex-lg-column px-2 py-2 py-lg-0 gap-4 gap-lg-3"},Z=m(()=>n("i",{class:"fa-solid fa-arrow-left"},null,-1)),O=[Z],ee=m(()=>n("i",{class:"fa-solid fa-arrow-right"},null,-1)),te=[ee],le={__name:"controller",props:["theme","autoPlaying","timeLeft"],emits:["show-next","show-prev","start-playing","stop-playing","shuffle"],setup(u,{emit:c}){const g=u,t=i(null),s=i(!1);function l(){s.value=!s.value}D(g,(a,e)=>{let o=e.theme;r(o)});function r(a){t.value.style.setProperty("--luc-text-color",a.color),t.value.style.setProperty("--luc-border-color",a.color),t.value.style.setProperty("--luc-bg-color",a.color),t.value.style.setProperty("--luc-text-color-reverse",a.backgroundColor)}return S(()=>{r(g.theme)}),(a,e)=>(d(),p("section",{class:"position-fixed w-100 d-flex flex-row justify-content-center justify-content-lg-between align-items-center",ref_key:"controllerEl",ref:t},[n("div",F,[n("button",{class:"luc-controller",onClick:e[0]||(e[0]=o=>c("shuffle"))},J),u.autoPlaying?(d(),p("button",{key:1,class:"luc-controller",onClick:e[2]||(e[2]=o=>c("stop-playing")),onMouseenter:l,onMouseleave:l},[s.value?(d(),p("i",X)):(d(),p("span",W,L(u.timeLeft),1))],32)):(d(),p("button",{key:0,class:"luc-controller",onClick:e[1]||(e[1]=o=>c("start-playing"))},Q))]),n("div",Y,[n("button",{class:"luc-controller",onClick:e[3]||(e[3]=o=>c("show-prev"))},O),n("button",{class:"luc-controller",onClick:e[4]||(e[4]=o=>c("show-next"))},te)])],512))}},oe=B(le,[["__scopeId","data-v-36fdc317"]]),ae={class:"container min-vh-100 d-flex flex-column flex-lg-row align-items-center justify-content-start justify-content-lg-center gap-4 gap-lg-5 position-relative pt-5 pb-8 pb-lg-5"},ce={__name:"Stage",setup(u){const c=i(!1),g=j("csvData",[]),t=i(0),s=v(()=>e.value[t.value]),l=v(()=>s.value?s.value.main_color:{}),r=v(()=>z(l.value));function a(){c.value=!1}const e=v(()=>w.value?g.value.filter(f=>f.main_color).sort(()=>Math.random()-w.value):g.value.filter(f=>f.main_color).sort((f,b)=>new Date(f.iso_date.slice(0,-1))-new Date(b.iso_date.slice(0,-1)))),o=v(()=>l?{backgroundColor:`hsl(${l.value.h},${l.value.s}%,${l.value.l}%)`,color:`hsl(${r.value.h},${r.value.s}%,${r.value.l}%)`}:{}),P=v(()=>l?{backgroundColor:`hsl(${r.value.h},${r.value.s}%,${r.value.l}%)`,color:`hsl(${l.value.h},${l.value.s}%,${l.value.l}%)`}:{});function k(){a(),t.value==e.value.length-1?t.value=0:t.value++}function C(){a(),t.value==0?t.value=e.value.length-1:t.value--}let y;const x=i(!1),h=i(10);function $(){x.value=!0,y=window.setInterval(()=>{h.value>=1?h.value--:(k(),h.value=10)},1e3)}function I(){x.value=!1,h.value=10,clearInterval(y)}const w=i(void 0);function N(){a(),w.value=Math.random()}return S(()=>{$()}),E(()=>{clearInterval(y)}),(f,b)=>s.value?(d(),p("main",{key:0,style:R(o.value),class:"transition"},[n("section",ae,[_(q,{photo:s.value,"photo-loaded":c.value,"bg-style":o.value},null,8,["photo","photo-loaded","bg-style"]),_(A,{photo:s.value,"bg-style":P.value},null,8,["photo","bg-style"])]),_(oe,{theme:o.value,"auto-playing":x.value,"time-left":h.value,onStartPlaying:$,onStopPlaying:I,onShowNext:k,onShowPrev:C,onShuffle:N},null,8,["theme","auto-playing","time-left"]),_(H,{theme:o.value,class:"position-fixed top-0 d-flex align-items-center gap-1"},null,8,["theme"]),_(U,{theme:o.value},null,8,["theme"])],4)):T("",!0)}};export{ce as default};
