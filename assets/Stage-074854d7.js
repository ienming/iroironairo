import{_ as I,r as d,w as N,o as k,a as v,c as f,b as a,t as B,p as D,d as A,i as E,e as i,f as M,g as p,n as V,h as L,j}from"./index-12b0ab8f.js";import{B as H,N as R}from"./Navigator-7cbb3bbd.js";import{_ as T}from"./Polaroid-fd419cb8.js";import{P as z}from"./PolaroidText-b043200d.js";const h=u=>(D("data-v-6cb343f1"),u=u(),A(),u),G={class:"d-flex flex-row flex-lg-column px-2 py-2 py-lg-0 gap-4 gap-lg-3"},U=h(()=>a("i",{class:"fa-solid fa-shuffle"},null,-1)),q=[U],F={key:0},J={key:1,class:"fa-solid fa-stop"},K=h(()=>a("i",{class:"fa-solid fa-play"},null,-1)),Q=[K],W={class:"d-flex flex-row flex-lg-column px-2 py-2 py-lg-0 gap-4 gap-lg-3"},X=h(()=>a("i",{class:"fa-solid fa-arrow-left"},null,-1)),Y=[X],Z=h(()=>a("i",{class:"fa-solid fa-arrow-right"},null,-1)),O=[Z],ee={__name:"controller",props:["theme","isAutoPlay","timeLeft"],emits:["show-next","show-prev","start-playing","stop-playing","shuffle"],setup(u,{emit:c}){const l=u,o=d(null),t=d(!1);N(l,(s,e)=>{let n=e.theme;r(n)});function r(s){o.value.style.setProperty("--luc-text-color",s.color),o.value.style.setProperty("--luc-border-color",s.color),o.value.style.setProperty("--luc-bg-color",s.color),o.value.style.setProperty("--luc-text-color-reverse",s.backgroundColor)}return k(()=>{r(l.theme)}),(s,e)=>(v(),f("section",{class:"position-fixed w-100 d-flex flex-row justify-content-center justify-content-lg-between align-items-center",ref_key:"controllerEl",ref:o},[a("div",G,[a("button",{class:"luc-controller",onClick:e[0]||(e[0]=n=>c("shuffle"))},q),u.isAutoPlay?(v(),f("button",{key:0,class:"luc-controller",onClick:e[1]||(e[1]=n=>{c("stop-playing"),console.log("stop-playing")}),onMouseenter:e[2]||(e[2]=n=>t.value=!0),onMouseleave:e[3]||(e[3]=n=>t.value=!1)},[t.value?(v(),f("i",J)):(v(),f("span",F,B(u.timeLeft),1))],32)):(v(),f("button",{key:1,class:"luc-controller",onClick:e[4]||(e[4]=n=>c("start-playing"))},Q))]),a("div",W,[a("button",{class:"luc-controller",onClick:e[5]||(e[5]=n=>c("show-prev"))},Y),a("button",{class:"luc-controller",onClick:e[6]||(e[6]=n=>c("show-next"))},O)])],512))}},te=I(ee,[["__scopeId","data-v-6cb343f1"]]),le={class:"container min-vh-100 d-flex flex-column flex-lg-row align-items-center justify-content-start justify-content-lg-center gap-4 gap-lg-5 position-relative pt-5 pb-8 pb-lg-5"},$=15,re={__name:"Stage",setup(u){const c=E("csvData",[]),l=d(0),o=i(()=>s.value[l.value]),t=i(()=>o.value?o.value.main_color:{}),r=i(()=>j(t.value)),s=i(()=>c.value.filter(y=>y.main_color).sort((y,b)=>new Date(y.iso_date.slice(0,-1))-new Date(b.iso_date.slice(0,-1)))),e=i(()=>t?{backgroundColor:`hsl(${t.value.h},${t.value.s}%,${t.value.l}%)`,color:`hsl(${r.value.h},${r.value.s}%,${r.value.l}%)`}:{}),n=i(()=>t?{backgroundColor:`hsl(${r.value.h},${r.value.s}%,${r.value.l}%)`,color:`hsl(${t.value.h},${t.value.s}%,${t.value.l}%)`}:{});function x(){l.value==s.value.length-1?l.value=0:l.value++}function S(){l.value==0?l.value=s.value.length-1:l.value--}let _;const m=d(!1),g=d($);function w(){m.value=!0,_=setInterval(()=>{g.value>=1?g.value--:(x(),g.value=$)},1e3)}function P(){m.value=!1,clearInterval(_)}function C(){l.value=Math.round(s.value.length*Math.random())}return k(()=>{w()}),M(()=>{clearInterval(_)}),(y,b)=>o.value?(v(),f("main",{key:0,class:"transition",style:V(e.value)},[a("section",le,[p(T,{photo:o.value,"bg-style":e.value},null,8,["photo","bg-style"]),p(z,{photo:o.value,"bg-style":n.value},null,8,["photo","bg-style"])]),p(te,{theme:e.value,"is-auto-play":m.value,"time-left":g.value,onStartPlaying:w,onStopPlaying:P,onShowNext:x,onShowPrev:S,onShuffle:C},null,8,["theme","is-auto-play","time-left"]),p(H,{theme:e.value,class:"position-fixed top-0 d-flex align-items-center gap-1"},null,8,["theme"]),p(R,{theme:e.value},null,8,["theme"])],4)):L("",!0)}};export{re as default};
